<html><head><title data-react-helmet="true">Definition - GitBook</title><link data-react-helmet="true" rel="shortcut icon" href="../gitbook/theme-default/images/favicon.ico"/><link data-react-helmet="true" rel="stylesheet" href="../gitbook/theme-default/theme.css"/><link data-react-helmet="true" rel="stylesheet" href="../gitbook/copy-code/button.css"/><link data-react-helmet="true" rel="stylesheet" href="../gitbook/highlight/white.css"/><link data-react-helmet="true" rel="stylesheet" href="../gitbook/headings/headings.css"/></head><body><div id="content"><div class="Flex GitBook book" style="box-sizing:border-box;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;" data-reactroot="" data-reactid="1" data-react-checksum="746681731"><div class="LoadingBar" data-reactid="2"><div class="LoadingBar-Bar" style="width:0%;display:none;" data-reactid="3"><div class="LoadingBar-Shadow" style="display:none;" data-reactid="4"></div></div></div><!-- react-empty: 5 --><!-- react-empty: 6 --><div class="Box" style="box-sizing:border-box;" data-reactid="7"><div class="Flex" style="box-sizing:border-box;display:flex;" data-reactid="8"><div class="Sidebar-Flex" data-reactid="9"><div class="Sidebar book-summary" data-reactid="10"><div class="Search-Input" data-reactid="11"><input type="text" value="" placeholder="Type to search" data-reactid="12"/></div><div class="Summary book-summary" data-reactid="13"><div class="SummaryParts" data-reactid="14"><div class="SummaryPart" data-reactid="15"><ul class="SummaryArticles" data-reactid="16"><li class="SummaryArticle" data-reactid="17"><a href=".." data-reactid="18">Introduction</a></li><li class="SummaryArticle" data-reactid="19"><a href="../Notation" data-reactid="20">Notation</a></li><li class="SummaryArticle" data-reactid="21"><a href="../Lexical" data-reactid="22">Lexical Structure</a></li><li class="SummaryArticle" data-reactid="23"><a href="../TypeTheory" data-reactid="24">Type Theory</a></li><li class="SummaryArticle" data-reactid="25"><a href="./" data-reactid="26">Commands</a></li><li class="SummaryArticle" data-reactid="27"><a href="../Attributes" data-reactid="28">Attributes</a></li><li class="SummaryArticle" data-reactid="29"><a href="../Expressions" data-reactid="30">Expressions</a></li><li class="SummaryArticle" data-reactid="31"><a href="../Tactics" data-reactid="32">Tactics</a></li><li class="SummaryArticle" data-reactid="33"><a href="../IO" data-reactid="34">IO</a></li><li class="SummaryArticle" data-reactid="35"><a href="../Undocumented" data-reactid="36">Undocumented Features</a></li></ul></div></div></div><a class="GitBookTrademark" href="https://www.gitbook.com/?utm_source=gitbook&amp;utm_medium=trademark" target="_blank" data-reactid="37"><span data-reactid="38"><!-- react-text: 39 -->Published with <!-- /react-text --><b data-reactid="40">GitBook</b></span><img src="../gitbook/theme-default/images/logo.svg" data-reactid="41"/></a></div></div><div class="Body-Flex" data-reactid="42"><div class="Body page-wrapper" data-reactid="43"><div class="Flex Toolbar" style="box-sizing:border-box;display:flex;" data-reactid="44"><div class="Box Toolbar-left" style="box-sizing:border-box;" data-reactid="45"><div align="flex-end" data-reactid="46"><button class="GitBook-Button" data-reactid="47"><i class="GitBook-Icon fa fa-align-justify" data-reactid="48"></i></button></div></div><div class="Box" style="box-sizing:border-box;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;" data-reactid="49"><h1 class="Toolbar-Title" data-reactid="50"><a href=".." data-reactid="51">Definition</a></h1></div><div class="Box Toolbar-right" style="box-sizing:border-box;" data-reactid="52"><div align="flex-end" data-reactid="53"><div class="GitBook-ButtonGroup" data-reactid="54"><button class="GitBook-Button" data-reactid="55"><i class="GitBook-Icon fa fa-facebook" data-reactid="56"></i></button><button class="GitBook-Button" data-reactid="57"><i class="GitBook-Icon fa fa-twitter" data-reactid="58"></i></button><div class="GitBook-Dropdown" data-reactid="59"><button class="GitBook-Button" data-reactid="60"><i class="GitBook-Icon fa fa-share-alt" data-reactid="61"></i></button></div></div></div></div></div><div class="PageContainer" data-reactid="62"><div class="Page" data-reactid="63"><div data-reactid="64"></div><div data-reactid="65"><div class="Headings-Container" data-reactid="66"><!-- react-empty: 67 --><a class="Headings-Anchor-Left" href="#definition-command" data-reactid="68"><i class="fa fa-link" data-reactid="69"></i></a><h1 id="definition-command" data-reactid="70">Definition Command</h1></div><p data-reactid="71"><!-- react-text: 72 -->The <!-- /react-text --><code data-reactid="73"><!-- react-empty: 74 --><!-- react-text: 75 -->def<!-- /react-text --></code><!-- react-text: 76 --> command creates a new top level definition consisting of a name,<!-- /react-text --><br data-reactid="77"/><!-- react-text: 78 -->a type, and a body.<!-- /react-text --></p><p data-reactid="79"><!-- react-text: 80 -->A definition begins with an optional set of qualifiers (detailed in ...) followed<!-- /react-text --><br data-reactid="81"/><!-- react-text: 82 -->by the keyword <!-- /react-text --><code data-reactid="83"><!-- react-empty: 84 --><!-- react-text: 85 -->def<!-- /react-text --></code><!-- react-text: 86 -->, a definition name, a set of parameters, and a return type.<!-- /react-text --></p><p data-reactid="87"><!-- react-text: 88 -->A simple example is using a definition as a top-level variable, where we have no qualifiers<!-- /react-text --><br data-reactid="89"/><!-- react-text: 90 -->or parameters.<!-- /react-text --></p><div class="CodeBlockWithCopy-Container" data-reactid="91"><!-- react-empty: 92 --><div style="font-size:14px !important;" data-reactid="93">def x : int := 0</div><span class="CodeBlockWithCopy-Button" data-reactid="94">COPY</span></div><!-- react-text: 95 -->
<!-- /react-text --><p data-reactid="96"><!-- react-text: 97 -->The definition command has many syntactic features which are elaborated away by Lean, its<!-- /react-text --><br data-reactid="98"/><!-- react-text: 99 -->primary feature is supporting the definition of functions by a set of recursive equations.<!-- /react-text --></p><div class="Headings-Container" data-reactid="100"><!-- react-empty: 101 --><a class="Headings-Anchor-Left" href="#parameters" data-reactid="102"><i class="fa fa-link" data-reactid="103"></i></a><h1 id="parameters" data-reactid="104">Parameters</h1></div><p data-reactid="105"><!-- react-text: 106 -->A definition may have zero or more parameters, which appear directly after its name, and before its<!-- /react-text --><br data-reactid="107"/><!-- react-text: 108 -->type as below.<!-- /react-text --></p><div class="CodeBlockWithCopy-Container" data-reactid="109"><!-- react-empty: 110 --><div style="font-size:14px !important;" data-reactid="111">def add (m : nat) : nat -&gt; nat
| nat.zero := m
| (nat.succ n) := nat.succ (add n)</div><span class="CodeBlockWithCopy-Button" data-reactid="112">COPY</span></div><!-- react-text: 113 -->
<!-- /react-text --><p data-reactid="114"><!-- react-text: 115 -->The parameters are fixed for all recursive calls to the definition, this design may initially seem strange,<!-- /react-text --><br data-reactid="116"/><!-- react-text: 117 -->but it is actually quite useful in dependent type theory. A common example is fixing types in a<!-- /react-text --><br data-reactid="118"/><!-- react-text: 119 -->polymorphic definition.<!-- /react-text --></p><div class="CodeBlockWithCopy-Container" data-reactid="120"><!-- react-empty: 121 --><div style="font-size:14px !important;" data-reactid="122">def map {A B : Type} (f : A -&gt; B) : list A -&gt; list B
| [] := []
| (x :: xs) := f x :: map xs</div><span class="CodeBlockWithCopy-Button" data-reactid="123">COPY</span></div><!-- react-text: 124 -->
<!-- /react-text --><p data-reactid="125"><!-- react-text: 126 -->For example in <!-- /react-text --><code data-reactid="127"><!-- react-empty: 128 --><!-- react-text: 129 -->map<!-- /react-text --></code><!-- react-text: 130 --> we do not need to supply any of the parameters to the recursive call including the function<!-- /react-text --><br data-reactid="131"/><!-- react-text: 132 -->which should be invariant over all calls to <!-- /react-text --><code data-reactid="133"><!-- react-empty: 134 --><!-- react-text: 135 -->map<!-- /react-text --></code><!-- react-text: 136 -->.<!-- /react-text --></p><div class="Headings-Container" data-reactid="137"><!-- react-empty: 138 --><a class="Headings-Anchor-Left" href="#pattern-matching" data-reactid="139"><i class="fa fa-link" data-reactid="140"></i></a><h1 id="pattern-matching" data-reactid="141">Pattern Matching</h1></div><div class="Headings-Container" data-reactid="142"><!-- react-empty: 143 --><a class="Headings-Anchor-Left" href="#dependent-pattern-matching" data-reactid="144"><i class="fa fa-link" data-reactid="145"></i></a><h1 id="dependent-pattern-matching" data-reactid="146">Dependent Pattern Matching</h1></div><div class="Headings-Container" data-reactid="147"><!-- react-empty: 148 --><a class="Headings-Anchor-Left" href="#universe-parameters" data-reactid="149"><i class="fa fa-link" data-reactid="150"></i></a><h1 id="universe-parameters" data-reactid="151">Universe Parameters</h1></div><p data-reactid="152">... TODO ...</p><!-- react-text: 153 --> <!-- /react-text --></div><div data-reactid="154"></div></div></div></div></div></div></div></div></div><script src="../gitbook/core.js"></script><script src="../gitbook/plugins/lean.js"></script><script src="../gitbook/plugins/highlight.js"></script><script src="../gitbook/plugins/search.js"></script><script src="../gitbook/plugins/lunr.js"></script><script src="../gitbook/plugins/sharing.js"></script><script src="../gitbook/plugins/hints.js"></script><script src="../gitbook/plugins/headings.js"></script><script src="../gitbook/plugins/copy-code.js"></script><script src="../gitbook/plugins/theme-default.js"></script><script type="application/payload+json">{"output":{"name":"website"},"gitbook":{"version":"4.0.0-alpha.6","time":"2017-05-08T15:05:30.899Z"},"summary":{"file":{"path":"SUMMARY.md","mtime":"2017-04-19T12:57:16.470Z","type":"markdown","url":"SUMMARY.md"},"parts":[{"title":"","articles":[{"title":"Introduction","level":"1.1","depth":1,"url":"./","path":"README.md","ref":"README.md","articles":[]},{"title":"Notation","level":"1.2","depth":1,"url":"Notation/","path":"Notation/README.md","ref":"Notation/README.md","articles":[]},{"title":"Lexical Structure","level":"1.3","depth":1,"url":"Lexical/","path":"Lexical/README.md","ref":"Lexical/README.md","articles":[]},{"title":"Type Theory","level":"1.4","depth":1,"url":"TypeTheory/","path":"TypeTheory/README.md","ref":"TypeTheory/README.md","articles":[]},{"title":"Commands","level":"1.5","depth":1,"url":"Commands/","path":"Commands/README.md","ref":"Commands/README.md","articles":[{"title":"Definition","level":"1.5.1","depth":2,"url":"Commands/Definition.html","path":"Commands/Definition.md","ref":"Commands/Definition.md","articles":[]},{"title":"Import","level":"1.5.2","depth":2,"url":"Commands/Import.html","path":"Commands/Import.md","ref":"Commands/Import.md","articles":[]},{"title":"Open","level":"1.5.3","depth":2,"url":"Commands/Open.html","path":"Commands/Open.md","ref":"Commands/Open.md","articles":[]},{"title":"Eval","level":"1.5.4","depth":2,"url":"Commands/Eval.html","path":"Commands/Eval.md","ref":"Commands/Eval.md","articles":[]}]},{"title":"Attributes","level":"1.6","depth":1,"url":"Attributes/","path":"Attributes/README.md","ref":"Attributes/README.md","articles":[]},{"title":"Expressions","level":"1.7","depth":1,"url":"Expressions/","path":"Expressions/README.md","ref":"Expressions/README.md","articles":[]},{"title":"Tactics","level":"1.8","depth":1,"url":"Tactics/","path":"Tactics/README.md","ref":"Tactics/README.md","articles":[]},{"title":"IO","level":"1.9","depth":1,"url":"IO/","path":"IO/README.md","ref":"IO/README.md","articles":[]},{"title":"Undocumented Features","level":"1.10","depth":1,"url":"Undocumented/","path":"Undocumented/README.md","ref":"Undocumented/README.md","articles":[]}]}]},"glossary":{"entries":{}},"readme":{"file":{"path":"README.md","mtime":"2017-04-19T12:57:16.470Z","type":"markdown","url":"./"}},"config":{"gitbook":">=4.0.0-alpha.0","theme":"default","variables":{},"plugins":["-livereload","lean","livereload"],"pluginsConfig":{"copy-code":{},"lean":{},"search":{},"hints":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"headings":{"position":"left"},"highlight":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}}},"page":{"content":"<h1 id=\"definition-command\">Definition Command</h1><p>The <code>def</code> command creates a new top level definition consisting of a name,<br>a type, and a body.</p><p>A definition begins with an optional set of qualifiers (detailed in ...) followed<br>by the keyword <code>def</code>, a definition name, a set of parameters, and a return type.</p><p>A simple example is using a definition as a top-level variable, where we have no qualifiers<br>or parameters.</p><pre><code class=\"lang-lean\">def x : int := 0</code></pre>\n<p>The definition command has many syntactic features which are elaborated away by Lean, its<br>primary feature is supporting the definition of functions by a set of recursive equations.</p><h1 id=\"parameters\">Parameters</h1><p>A definition may have zero or more parameters, which appear directly after its name, and before its<br>type as below.</p><pre><code class=\"lang-lean\">def add (m : nat) : nat -&gt; nat\n| nat.zero := m\n| (nat.succ n) := nat.succ (add n)</code></pre>\n<p>The parameters are fixed for all recursive calls to the definition, this design may initially seem strange,<br>but it is actually quite useful in dependent type theory. A common example is fixing types in a<br>polymorphic definition.</p><pre><code class=\"lang-lean\">def map {A B : Type} (f : A -&gt; B) : list A -&gt; list B\n| [] := []\n| (x :: xs) := f x :: map xs</code></pre>\n<p>For example in <code>map</code> we do not need to supply any of the parameters to the recursive call including the function<br>which should be invariant over all calls to <code>map</code>.</p><h1 id=\"pattern-matching\">Pattern Matching</h1><h1 id=\"dependent-pattern-matching\">Dependent Pattern Matching</h1><h1 id=\"universe-parameters\">Universe Parameters</h1><p>... TODO ...</p>","dir":"ltr","attributes":{},"title":"Definition","level":"1.5.1","depth":2,"next":{"title":"Import","level":"1.5.2","depth":2,"url":"Commands/Import.html","path":"Commands/Import.md","ref":"Commands/Import.md"},"previous":{"title":"Commands","level":"1.5","depth":1,"url":"Commands/","path":"Commands/README.md","ref":"Commands/README.md"}},"file":{"path":"Commands/Definition.md","mtime":"2017-04-19T12:57:16.470Z","type":"markdown","url":"Commands/Definition.html"}}</script><script type="application/javascript">(function() { require("gitbook-core").bootstrap({ role: "website:body" }) })()</script></body></html>